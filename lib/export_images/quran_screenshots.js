const puppeteer = require('puppeteer');
const fs = require('fs');

const language = "ur"
const fontType = "v1";

function parseQuran(path) {
    const content = fs.readFileSync(path, 'utf8')

    return JSON.parse(content);
}

function readFont(path) {
    return fs.readFileSync(
        `${__dirname}/fonts/${path}`
    ).toString("base64");
}

function parseTranslations(path) {
    const content = fs.readFileSync(path, 'utf8')
    return JSON.parse(content);
}

function langFont() {
    return `
    
     @font-face {
            font-family: nafees;
            src: url(data:font/woff2;charset=utf-8;base64,${readFont('nafees-nastaleeq-webfont.woff2')}) format('woff2');
        }
  .ur, .bn, .hi{
  direction: rtl;
  font-family: nafees !important;
  font-size: 25px !important;
  }
  .bn, .hi{
  direction: rtl;
  font-family: Amiri !important;
  font-size: 25px !important;
  }
  `
}

function arabicFont(pageNumber) {
    if ('tajweed' == fontType) {
        //tajweed
        let fontPath = "me_quran.ttf"
        let ayahFontFamily = `font-family: me_quran !important;`

        return `
        @font-face {
            font-family: me_quran;
            src: url(data:font/woff2;charset=utf-8;base64,${readFont(fontPath)}) format('woff2');
        }
        
    .p${pageNumber}{
      ${ayahFontFamily}
      -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale;
      font-weight: 100 !important;
  }`
    } else {
        // v1
        let fontPath = `v1/woff2/p${pageNumber}.woff2`;
        let ayahFontFamily = `font-family: p${pageNumber} !important;`

        return `
        @font-face {
        font-family: p${pageNumber};
        src: url(data:font/woff2;charset=utf-8;base64,${readFont(fontPath)}) format('woff2');
    }
    
        .p${pageNumber}{
      ${ayahFontFamily}
      -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale;
      font-weight: 100 !important;
  }`
    }
}

function getArabicTextFontSize(ayah) {
    let MINIMUM_FONT_SIZE
    if ('tajweed' == fontType) {
        MINIMUM_FONT_SIZE = 50;
    } else {
        MINIMUM_FONT_SIZE = 70;
    }

    if (ayah.text_uthmani.length > 1000)
        MINIMUM_FONT_SIZE = 45;

    const MAXIMUM_FONT_SIZE = 170;
    const wordFs = 20;
/*
    let fontSize = Math.round(MAXIMUM_FONT_SIZE - (text.length / 3.2));
    if (fontSize < MINIMUM_FONT_SIZE) {
        fontSize =  MINIMUM_FONT_SIZE + "px";
    } else {
        fontSize =  fontSize + "px";
    }

    console.log("font size ", fontSize)
    return fontSize;*/

   // let wordsCount = text.split(' ').length;

    let fontSize = Math.round(MAXIMUM_FONT_SIZE - (ayah.text_uthmani.length / 3.5));
    ///let fontSize = Math.min(MAXIMUM_FONT_SIZE, wordFs * (MINIMUM_FONT_SIZE / wordsCount));

    let size;
    if (fontSize < MINIMUM_FONT_SIZE) {
        size = MINIMUM_FONT_SIZE + "px";
    } else {
        size = fontSize + "px";
    }

    console.log("setting fs", size)
    return size;

    //let compressor = 1;
    //  Math.max(Math.min(1500 / (compressor*10), parseFloat(MAXIMUM_FONT_SIZE)), parseFloat(MINIMUM_FONT_SIZE)));


}

function getCss(pageNumber) {
    //const pageBg =  "/Volumes/UBUNTU/development/scrappy/background.jpg"
    //'https://assets-1f14.kxcdn.com/images/background.jpg'

    return `
    ${langFont()}
    ${arabicFont(pageNumber)}
    .ham_wasl,
  .slnt,
  .laam_shamsiyah {
    color: #60646D;
  }

  .madda_normal {
    color: #CF000F;
  }

  .madda_permissible {
    color: #D8335B;
  }

  .madda_necessary {
    color: #000ebc;
  }

  .madda_obligatory {
    color: #2144c1;
  }

  .qalaqah {
    color: #dd0008;
  }

  .ikhafa_shafawi {
    color: #d500b7;
  }

  .ikhafa {
    color: #9400a8;
  }

  .iqlab {
    color: #8870FF;
  }

  .idgham_shafawi {
    color: #58b800;
  }

  .idgham_ghunnah {
    color: #169200;
  }

  .idgham_wo_ghunnah {
    color: #169200;
  }

  .idgham_mutajanisayn,
  .idgham_mutaqaribayn {
    color: #a1a1a1;
  }

  .ghunnah {
    color: #ff7e1e;
}
  @font-face {
    font-family: 'SurahNames';
    font-style: normal;
   // font-weight: normal;
   // src: url('https://quran-og-image-abdellatif-io.tarteel-team.vercel.app/surah_names.ttf') format('truetype');
  }
  
  body {
   // background: url("https://assets-1f14.kxcdn.com/images/background.jpg");
    background: url('data:image/jpeg;base64,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rLCye094/GvI9p+O8sZX0nh9Z0HzBBGi9NYXkfRYnurE/GWd8rwnxHCwvhaa0o2nsvfWJYGLIuiyPhY32fC7PPBGKMjwxrLstx4WLcem9GMcEEEZ3zBBBBGixcR3jUeqsb4QxZWLK+rFgfSCPAe8usabxrXQxZXpvC/Feb++O8TFrPhi/HPMsLFvPExeKxZn5SwvK8TFvrz3mnlZXtPE9hb6xLlajFtTovxHkYvGnPOFbTFoLMxbDFi/uNi8WeixPleExb62GLHVFUVRVFUVRVFUVRVFUP5QvlFUVRVFUVRVFUVQ/lFfkqiqKoqiqKoqiqKoqiqKoqiqKoqiqKoqiqKoqiqKoqiqK/JX5K/JX5F8/JVFUVRVFUVRVFUVQ/n5K/JX5K/JVFUVRVFUV+SvyV+SqKoqiqKoqiqKoqiqKoqiqKoqiqKoqiqKoqiqKoqiqKoXz8lUVRVFUVRVFUVRVFUV+SvyV+SvyL5+SqKoqiqKoqiqKoqiqKoqiqH8or8i+fkqiqKoqiqKoqiqKoqiqKoqiqKoqiqKoqiqKoqiqH8oXz8lUVRVFUVRVFUVRVFUf//aAAgBAgABBQL/AHbH/9oACAEDAAEFAv8AcYQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQQRxBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB//2gAIAQICBj8Cdsf/2gAIAQMCBj8Cdsf/2gAIAQEBBj8C7jDamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamjamj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syhZHi5sxYGI4EYj46bAxFgYizFcxHxQoXBiLAxHAjw0fAzEWB4KbcWZ+DGzPBTbj4yfgo+En4M9qfhpqiQ/CjfvSfghkFEfDjEXT/AD8LN2/wA7Fkbl+PH4iYD4ALcXBqj4W0rJuDveiY1Ranj7fARYGI/4qLAxFsah46UOJGIsDEcCPzAxFJpjEVTTHxQcGMRYGIqmmKg40aD2TXRiJzRMRVPxE8UMRZiYVHlHwc8UMRZjgYoH5kaYkNm6dOnTp09Y8UPw0yunTp78zv8A8hPADcsm4yZBSPBz8aMGpmAsxZNdH4WLw2omNdrc/ATRKF4bM3rJk1cyMmTWRQvTwAwFcoVTKeHHixpi4KFU2Zongp4saRQtj8RNYUShfHiBQ4wKJqmmL8fABwc0jxcUhblDhZ4Iao4q9EXRQvjdC2KHxgoX4uChTc6JzonOic6JzonOic6JzonOic6JzoiTogTonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOiB+k50TnROdE50TnROdE50TnROdET9JzonOif6TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnROdE50TnRP9JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6IE6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOic6JzonOi//2gAIAQMDAT8QpGmAjQCIpBE2YCJRNya4wAiTTETUAQECUTZCiLjApiKIgUawCJa7NQSAQJRNQVgIk2gtgpBRASGobAITJpAyZEWZqCUmsKgESj2okN6BoAyEVjVCkRXFcBbmYBAJ4HuzSGiNkJSJwaBpgYHiOnTp0DYBVC5GVoHoBGYyIrGkGgKIRoiU0AaDIiu0Rka4pgEAnRlGwETXCBCIiESKpoulMzhGqDSA0SERKOcwGlJuRkzQPObAWISkQEjIigKYKYUQxE4iaYNIiUGZ+CAImwFiCZqwoBINoCEAjbAKBpESPEeuaQ1RZhbnmNAUAiEbIEhpDWBpEIizFMao4IAUDMDKTYArBGkTQFkDTIsjimPEwBiUgMCbcARnCNB09U1wUDSITXAInigAp5gUag0SEyxRNmLQDTIrBGgIngYPBRmEpvw2QNMi2ETYDZjwUZhAGJN4EhFkDTIRFII0REytTGwETwIUREGmNoJCLIFA0yKQ1DMQiJhE2AuGgamKIiAjfCUhNZA0yKIxwKoJCJRZi3AkIpCmARu2gaiUaxBpkURCAswiQW5sgJSKxnC6AIVjIiwBpkIiUSGYRMQnMRbmxAnNU0BuALI2AMhQM5EoMCZxMCgZSaBszYAWozjbgWhsQZQZyK4zAyE0DORRETXAomkIm8AEBamyBlAzkIikBSAoFEzCJoCKAsgEhKesImUQNoBSeB06dPEe4BgYgoGdpzICQ1xUCJxYgIkomJVREyi1AoEp6bxG0BnBosmTTE2AohIRbgiTYigLMBNOSibB7UTg2BNgKwi4CeGAE7om8BTARnBrE3IJyLQECZxA1BtwJyb0UwIGgDUJuwGR06NsDOKgQNsBM6JvREicBAVAKBok8ACLgETAICoFEKwExPAxCZMmgaU03gdPF0TwEEVgCgIkSAWBnFQBATE8NE8RBIRKKAIJxIRABIVICkKYE5PDRPFgiUcCMgLUAmJRPDieECJqCJBOESJxQagAaUmxATE1GmARF4JvmTUhE0BIRIImgIlBrUmkIlagJqAQIREREhNcEomsAjXAiRRFQGQxETIL4moZNRJqgSEQCUiwESYj2ARnAgQiJBIaIgaQM4QPAhNsJqgTETmuImkLECgJiNsCJiLQUBrE2olE1gKpsjSNAVREQjAFE0xpgzCyCUTF4HouiaoFAzOia4RKBlJQKeQmxEDSGxAZTehE0goOiaLp08gexPIHtAGJkBibMaPSiEaLwKII1hVSiYjQEXTp+HBSCMQUCiZQUTeBcDYA1hAxE0x4gwKIR+AgEap5CuJAaIieHgOEgEaIRoCsIm7AIHg4uAaIvgFMEaArhGqEaoFgF2PAARvAKgRAIyiB4QASGsNz0tg4OAkNEIigFcCjcgEhNcbgUwPK2BeASGkIkzCB4KATE1gOChmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EDR38IGjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hANHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CGg7+EzR38Jmjv4TNHfwmaO/hA0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4QNHfwmaO/hN0d/CIaO/hM0d/CZo7+EzR38Jmjv4TNHfwgGjv4TNHfwmaO/hHQd/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CAaO/hENHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CGg7+EzR38Jmjv4TNHfwmaO/hM0d/CIaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CGg7+EzR38IGjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38IBo7+EQ0d/CZo7+EzR38Jmjv4TNHfwmaO/hM0d/CZo7+EzR38Jmjv4TNHfwv//Z');
    background-size: cover;
    min-height: 100vh;
    display: flex;
    text-align: center;
    align-items: center;
    justify-content: center;
    text-overflow: ellipsis;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .spacer {
    margin: 50px;
  }
  
  a sup[foot_note]{display: none !important}
  a sup{display: inline !important}
  a sup, .f, .h{color: #E3000E; margin-right: 5px}
  .heading {
    font-size: 70px;
    font-style: normal;
    color: white;
    line-height: 1.8;
  }
  
  footer{
    font-size: 25px !important;
    display: -webkit-box;
    font-family: Times New Roman, Verdana;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    font-weight: bold;
    color: #100e17!important
  }
  
  .heading2 {
    //margin-top: 100px;
    max-width: 1500px;
  }
  
  .arabic-text {
    margin-bottom: 100px;
    font-weight: 600;
  }
  
  .translation {
    font-size: 33px;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 5;
    -webkit-box-orient: vertical;
  }
  
  sup{display: none}
  
  .surah-name{
    font-family: SurahNames;
    font-size: 200px;
    margin-right: 60px;
  }`;
}


function getVerseHtml(key, verse, translation) {
    const pageNumber = verse.page;
    const arabic = verse.text
    const translationText = translation.text;

    return `<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <title>Generated Image</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">
    
    <style>
        ${getCss(pageNumber)}
    </style>
    </head>
    <body>
            <div class="spacer">
            <div class="heading heading2">
                <div id='arabic' class="arabic-text p${pageNumber}" style="font-size:${getArabicTextFontSize(verse)}">
                ${arabic}
                </div>
                <div class="translation ${language}">
                  ${translationText}
                </div>
                <footer>quran.com/${key}</footer>
                </div>
                </div>
    </body>
</html>`;
}

async function generateScreenshot(ayahKey, ayah, translation) {
    const html = getVerseHtml(ayahKey, ayah, translation);
    fs.writeFileSync(`html.html`, html, 'utf8');

    await page.setContent(html);
    await page.screenshot({path: `./images/${fontType}/${language}/${ayahKey.replace(':', '-')}.png`});
}

async function run() {
    const browser = await puppeteer.launch({headless: true, slowMo: 1});
    const page = await browser.newPage();
    Object.assign(global, {browser, page});
    await page.setViewport({width: 2048, height: 1170});

    const ayahs = parseQuran(`input/${fontType}.json`);
    const translations = parseTranslations(`input/translations/${language}.json`);

    /*key = '2:282'

    const ayah = ayahs[key]
    const translation = translations[key]

    await generateScreenshot(key, ayah, translation)
    browser.close();
    return*/
    const keys = Object.keys(ayahs);
    for (var i = 0; i < keys.length; i++) {
        var key = keys[i];
       // var parts = key.split(':')
       // var surah = parts[0]
       // if(Number(surah) >= 55){
        console.log("generating screenshot", key);

        const ayah = ayahs[key]
        const translation = translations[key]

        await generateScreenshot(key, ayah, translation)
        //await page.waitFor(10);
        //} else {
        //    console.log(key, 'already')
       /// }
    }

    browser.close();
}

run();

